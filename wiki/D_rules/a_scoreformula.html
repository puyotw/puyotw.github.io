<!DOCTYPE html>
<html lang="zh-Hant" class="has-navbar-fixed-top"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>障礙氣泡量公式 | 魔法氣泡中文百科</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="障礙氣泡量公式" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="在魔法氣泡的對戰中，玩家發動連鎖會給對手攻擊，也就是障礙氣泡。障礙氣泡的數量其實是由得分與加倍時間決定（得分顯示在場地的下方），而其中得分的算法，依據可消除的氣泡個數也有不同。以下，我們先討論在沒有加倍時間、可消除氣泡數量為4顆（預設可消除數量）的分數計算方法1。 ぷよぷよにおける得点計算について. &#8617;" />
<meta property="og:description" content="在魔法氣泡的對戰中，玩家發動連鎖會給對手攻擊，也就是障礙氣泡。障礙氣泡的數量其實是由得分與加倍時間決定（得分顯示在場地的下方），而其中得分的算法，依據可消除的氣泡個數也有不同。以下，我們先討論在沒有加倍時間、可消除氣泡數量為4顆（預設可消除數量）的分數計算方法1。 ぷよぷよにおける得点計算について. &#8617;" />
<link rel="canonical" href="https://puyo.tw/wiki/D_rules/a_scoreformula" />
<meta property="og:url" content="https://puyo.tw/wiki/D_rules/a_scoreformula" />
<meta property="og:site_name" content="魔法氣泡中文百科" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-10-27T03:35:51+00:00" />
<script type="application/ld+json">
{"description":"在魔法氣泡的對戰中，玩家發動連鎖會給對手攻擊，也就是障礙氣泡。障礙氣泡的數量其實是由得分與加倍時間決定（得分顯示在場地的下方），而其中得分的算法，依據可消除的氣泡個數也有不同。以下，我們先討論在沒有加倍時間、可消除氣泡數量為4顆（預設可消除數量）的分數計算方法1。 ぷよぷよにおける得点計算について. &#8617;","@type":"BlogPosting","headline":"障礙氣泡量公式","dateModified":"2019-10-27T03:35:51+00:00","datePublished":"2019-10-27T03:35:51+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://puyo.tw/wiki/D_rules/a_scoreformula"},"url":"https://puyo.tw/wiki/D_rules/a_scoreformula","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"><link type="application/atom+xml" rel="alternate" href="https://puyo.tw/feed.xml" title="魔法氣泡中文百科" /></head>
<body><header class="site-header">
  <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <button id="burger" class="navbar-burger burger__button">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <a class="navbar-item" rel="author" href="/">
        <img class="navbar-logo" src="https://yt3.ggpht.com/a-/AAuE7mAzF0YlAQv0YQxq35osxnWg0WGqpKzW33Aa=s288-mo-c-c0xffffffff-rj-k-no" width="30" height="30">
        <span>魔法氣泡中文百科</span>
      </a>
    </div>
    <div id="navbar-items" class="navbar-menu">
      <div class="navbar-start"><a class="navbar-item" href="/about/">關於我們</a></div>
    </div>
  </nav>
</header>
<main class="page-content" aria-label="Content">
      <aside id="sidebar" class="sidebar menu">
  <div class="sidebar__wrapper">
    <div class="sidebar__inner"><ul class="menu-list" data-menu-depth="0">
    <li class=""><a href="/wiki" class="menu-link">
          魔法氣泡中文百科
        </a><ul class="" data-menu-depth="1">
    <li class=""><input type="checkbox" id="
      item-1-1
    ">
        <label class="sidebar__dropdown" for="
      item-1-1
    ">
          基礎教學
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="2">
    <li class=""><a href="/wiki/A_basics/b_three_clear_types" class="menu-link">
          連鎖的觸發條件
        </a></li>
    <li class=""><a href="/wiki/A_basics/c_add_one_chain" class="menu-link">
          加一連鎖
        </a></li>
    <li class=""><a href="/wiki/A_basics/d_add_more_chains" class="menu-link">
          從加一連鎖，到做出大連鎖
        </a></li>
    <li class=""><a href="/wiki/A_basics/e_how_to_practice" class="menu-link">
          如何練習
        </a></li></ul></li>
    <li class=""><input type="checkbox" id="
      item-2-2
    ">
        <label class="sidebar__dropdown" for="
      item-2-2
    ">
          連鎖
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="3">
    <li class=""><input type="checkbox" id="
      item-3-1
    ">
        <label class="sidebar__dropdown" for="
      item-3-1
    ">
          定型
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="4">
    <li class=""><a href="/wiki/B_chain/b_regular_form/i_stairs" class="menu-link">
          階梯
        </a></li>
    <li class=""><a href="/wiki/B_chain/b_regular_form/ii_sandwich" class="menu-link">
          鑰匙
        </a></li></ul></li>
    <li class=""><input type="checkbox" id="
      item-4-2
    ">
        <label class="sidebar__dropdown" for="
      item-4-2
    ">
          不定型
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="5">
    <li class=""><a href="/wiki/B_chain/c_irregular_form/i_gtr" class="menu-link">
          GTR
        </a></li>
    <li class=""><a href="/wiki/B_chain/c_irregular_form/ii_gtr_der" class="menu-link">
          GTR衍生型
        </a></li>
    <li class=""><a href="/wiki/B_chain/c_irregular_form/iii_L_shape" class="menu-link">
          L字地基
        </a></li>
    <li class=""><a href="/wiki/B_chain/c_irregular_form/iv_fron" class="menu-link">
          fron排法
        </a></li></ul></li>
    <li class=""><a href="/wiki/B_chain/d_transition" class="menu-link">
          折返
        </a></li>
    <li class=""><a href="/wiki/B_chain/f_fusion" class="menu-link">
          合體
        </a></li>
    <li class=""><input type="checkbox" id="
      item-5-5
    ">
        <label class="sidebar__dropdown" for="
      item-5-5
    ">
          其他概念
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="6">
    <li class=""><a href="/wiki/B_chain/g_others/i_power_chain" class="menu-link">
          同消
        </a></li>
    <li class=""><a href="/wiki/B_chain/g_others/ii_one_eight" class="menu-link">
          八分之一
        </a></li></ul></li></ul></li>
    <li class=""><input type="checkbox" id="
      item-6-3
    ">
        <label class="sidebar__dropdown" for="
      item-6-3
    ">
          戰術
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="7">
    <li class=""><input type="checkbox" id="
      item-7-1
    ">
        <label class="sidebar__dropdown" for="
      item-7-1
    ">
          序盤
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="8">
    <li class=""><a href="/wiki/C_tactics/a_early_stage/i_rush_attack" class="menu-link">
          速攻
        </a></li></ul></li>
    <li class=""><input type="checkbox" id="
      item-8-2
    ">
        <label class="sidebar__dropdown" for="
      item-8-2
    ">
          中盤
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="9">
    <li class=""><a href="/wiki/C_tactics/b_middle_stage/i_intro" class="menu-link">
          概論
        </a></li>
    <li class=""><input type="checkbox" id="
      item-9-2
    ">
        <label class="sidebar__dropdown" for="
      item-9-2
    ">
          主砲與副砲
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="10">
    <li class=""><a href="/wiki/C_tactics/b_middle_stage/ii_main_chain_and_side_chain/1_key_puyo" class="menu-link">
          關鍵氣泡
        </a></li>
    <li class=""><a href="/wiki/C_tactics/b_middle_stage/ii_main_chain_and_side_chain/4_cross" class="menu-link">
          十字交叉法
        </a></li></ul></li></ul></li>
    <li class=""><a href="/wiki/C_tactics/e_observation" class="menu-link">
          凝視的技巧
        </a></li></ul></li>
    <li class=""><input type="checkbox" id="
      item-10-4
    ">
        <label class="sidebar__dropdown" for="
      item-10-4
    ">
          規則相關
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="11">
    <li class=""><a href="/wiki/D_rules/a_scoreformula" class="menu-link">
          障礙氣泡量公式
        </a></li>
    <li class=""><a href="/wiki/D_rules/b_quick" class="menu-link">
          無延遲攻擊
        </a></li></ul></li>
    <li class=""><input type="checkbox" id="
      item-11-5
    ">
        <label class="sidebar__dropdown" for="
      item-11-5
    ">
          場地、操作相關
          <span class="sidebar__icon icon">
            <i class="fas fa-angle-down fa-lg"></i>
          </span>
        </label><ul class="" data-menu-depth="12">
    <li class=""><a href="/wiki/E_field_and_operation/a_axis_puyo" class="menu-link">
          軸氣泡與子氣泡
        </a></li>
    <li class=""><a href="/wiki/E_field_and_operation/b_13and14row" class="menu-link">
          第13列與第14列
        </a></li>
    <li class=""><a href="/wiki/E_field_and_operation/c_rotation" class="menu-link">
          回轉的技巧
        </a></li></ul></li></ul></li></ul></div>
  </div>
</aside>

<script>
  (function() { 
    document.addEventListener('click', function(e){
      if(e.target.id === 'burger'){
        e.preventDefault();
        document.getElementById('sidebar').classList.toggle('sidebar--active');
        document.getElementById('burger').classList.toggle('is-active');
      }
      else if(e.target.classList.contains('menu-link')){
        document.getElementById('sidebar').classList.toggle('sidebar--active');
        document.getElementById('burger').classList.toggle('is-active');
      }
    });
  })();
</script><article class="color-theme-1 wiki__post container js-Pjax">
  <div class="markdown-section">
    <h1>障礙氣泡量公式</h1><div class="tags are-medium"><a class="tag is-link" href="/wiki/tags/%E8%A6%8F%E5%89%87%E7%9B%B8%E9%97%9C">規則相關</a><a class="tag is-link" href="/wiki/tags/%E5%BE%97%E5%88%86%E8%A8%88%E7%AE%97">得分計算</a><a class="tag is-link" href="/wiki/tags/%E5%90%8C%E6%B6%88">同消</a></div><div class="post-content e-content" itemprop="articleBody">
  <p>在魔法氣泡的對戰中，玩家發動連鎖會給對手攻擊，也就是障礙氣泡。障礙氣泡的數量其實是由得分與加倍時間決定（得分顯示在場地的下方），而其中得分的算法，依據可消除的氣泡個數也有不同。以下，我們先討論在沒有加倍時間、可消除氣泡數量為4顆（預設可消除數量）的分數計算方法<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>。</p>

<h2 id="分數計算基本概念">分數計算：基本概念</h2>

<p>當玩家發動一個總數為 <script type="math/tex">n</script> 的連鎖時，送給對手的障礙氣泡總數為</p>

<script type="math/tex; mode=display">\text{送給對手的障礙氣泡總數} = \left\lfloor 
    \frac{1}{70} \left( 
        \sum_{k=1}^{n}\text{第 } k \text{ 連鎖得分 } S_k + \text{連鎖發動前累積的落下得分}
    \right)
\right\rfloor</script>

<p>其中 <script type="math/tex">\lfloor \ \rfloor</script> 是向下取整，整個公式的意思是取括號內數字除以 <script type="math/tex">70</script> 的商。這個 <script type="math/tex">70</script> 就是「障礙氣泡的換算率」，預設為 <script type="math/tex">70</script>，在近幾個版本玩家都能在遊戲內調整換算率。</p>

<p>公式中的落下得分，其計算方式為，緩降（soft drop）時氣泡經過一格加一分。發動完 <script type="math/tex">n</script> 連鎖後，累積的這些落下得分與每次連鎖得分相加，除完 <script type="math/tex">70</script> 的商是障礙氣泡量，餘數則保存起來，待下次發動連鎖時一倂納入計算。<script type="math/tex">n</script> 連鎖中每個連鎖的分數都是個別計算，彼此不相關，算完後加總起來。以下讓 <script type="math/tex">k</script> 固定，討論第 <script type="math/tex">k</script> 連鎖的得分 <script type="math/tex">S_k</script> 的計算方式。</p>

<h2 id="第-k-連鎖得分-s_k">第 <script type="math/tex">k</script> 連鎖得分 <script type="math/tex">S_k</script></h2>

<p><script type="math/tex">S_k</script> 的計算方式與下列四個數字息息相關：</p>
<ul>
  <li>第 <script type="math/tex">k</script> 連鎖消除的氣泡數 <script type="math/tex">t</script></li>
  <li><script type="math/tex">k</script> 的值</li>
  <li>第 <script type="math/tex">k</script> 連鎖消除的顏色數 <script type="math/tex">c</script></li>
  <li>第 <script type="math/tex">k</script> 連鎖的各連結數 <script type="math/tex">l_i</script></li>
</ul>

<p>更精確來說，<script type="math/tex">k</script> 、<script type="math/tex">c</script>、<script type="math/tex">l</script> 後面有三個函數分別決定這些值對應到的「獎勵（bonus）」是多少，而這些獎勵與氣泡數 <script type="math/tex">t</script> 會一起決定 <script type="math/tex">S_k</script>。</p>

<h3 id="1-氣泡數-t">1. 氣泡數 <script type="math/tex">t</script></h3>

<p>指的是在第 <script type="math/tex">k</script> 連鎖消除的所有氣泡數，這應該不須多做解釋～</p>

<h3 id="2-k-的值">2. <script type="math/tex">k</script> 的值</h3>

<p><script type="math/tex">k</script> 的值與連鎖獎勵（命名為<script type="math/tex">R(k)</script>）的關係由下表給出：</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><script type="math/tex">k</script> 的值</th>
      <th style="text-align: center">連鎖獎勵 <script type="math/tex">R(k)</script></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><script type="math/tex">1</script></td>
      <td style="text-align: center"><script type="math/tex">0</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">2</script></td>
      <td style="text-align: center"><script type="math/tex">8</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">3</script></td>
      <td style="text-align: center"><script type="math/tex">16</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">4</script></td>
      <td style="text-align: center"><script type="math/tex">32</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">5</script></td>
      <td style="text-align: center"><script type="math/tex">64</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">6</script></td>
      <td style="text-align: center"><script type="math/tex">96</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">7</script></td>
      <td style="text-align: center"><script type="math/tex">128</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">8</script></td>
      <td style="text-align: center"><script type="math/tex">160</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">9</script></td>
      <td style="text-align: center"><script type="math/tex">192</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">10</script></td>
      <td style="text-align: center"><script type="math/tex">224</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">11</script></td>
      <td style="text-align: center"><script type="math/tex">256</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">12</script></td>
      <td style="text-align: center"><script type="math/tex">288</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">13</script></td>
      <td style="text-align: center"><script type="math/tex">320</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">14</script></td>
      <td style="text-align: center"><script type="math/tex">352</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">15</script></td>
      <td style="text-align: center"><script type="math/tex">384</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">16</script></td>
      <td style="text-align: center"><script type="math/tex">416</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">17</script></td>
      <td style="text-align: center"><script type="math/tex">448</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">18</script></td>
      <td style="text-align: center"><script type="math/tex">480</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">19</script></td>
      <td style="text-align: center"><script type="math/tex">512</script></td>
    </tr>
  </tbody>
</table>

<p>可以發現到，第 <script type="math/tex">1</script> 連鎖沒有獎勵，<strong><script type="math/tex">2</script> 連鎖～<script type="math/tex">5</script> 連鎖的獎勵倍增，而 <script type="math/tex">5</script> 連鎖以上固定是每次加 <script type="math/tex">32</script> 分</strong>。</p>

<h3 id="3-顏色數-c">3. 顏色數 <script type="math/tex">c</script></h3>

<table>
  <thead>
    <tr>
      <th style="text-align: center">顏色數 <script type="math/tex">c</script></th>
      <th style="text-align: center">色數獎勵 <script type="math/tex">C(c)</script></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><script type="math/tex">1</script></td>
      <td style="text-align: center"><script type="math/tex">0</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">2</script></td>
      <td style="text-align: center"><script type="math/tex">3</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">3</script></td>
      <td style="text-align: center"><script type="math/tex">6</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">4</script></td>
      <td style="text-align: center"><script type="math/tex">12</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">5</script></td>
      <td style="text-align: center"><script type="math/tex">24</script></td>
    </tr>
  </tbody>
</table>

<p>同樣地，單色沒有獎勵，不過 <script type="math/tex">2</script> 色～<script type="math/tex">5</script> 色的獎勵都是倍數成長。要注意的是，<strong>這個表跟 <script type="math/tex">k</script> 沒有關係</strong>，不因 <script type="math/tex">k</script> 的大小決定這個表的值；不論連鎖是大是小，每一次消除時都會看消了幾個顏色，只用這個來決定色數獎勵。</p>

<h3 id="4-連結數-l">4. 連結數 <script type="math/tex">l</script></h3>

<table>
  <thead>
    <tr>
      <th style="text-align: center">連結數 <script type="math/tex">l</script></th>
      <th style="text-align: center">連結獎勵 <script type="math/tex">L(l)</script></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><script type="math/tex">4</script></td>
      <td style="text-align: center"><script type="math/tex">0</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">5</script></td>
      <td style="text-align: center"><script type="math/tex">2</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">6</script></td>
      <td style="text-align: center"><script type="math/tex">3</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">7</script></td>
      <td style="text-align: center"><script type="math/tex">4</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">8</script></td>
      <td style="text-align: center"><script type="math/tex">5</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">9</script></td>
      <td style="text-align: center"><script type="math/tex">6</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">10</script></td>
      <td style="text-align: center"><script type="math/tex">7</script></td>
    </tr>
    <tr>
      <td style="text-align: center"><script type="math/tex">\ge11</script></td>
      <td style="text-align: center"><script type="math/tex">10</script></td>
    </tr>
  </tbody>
</table>

<p>同樣地，這個表也跟 <script type="math/tex">k</script> 的大小沒關係，只用連結數多寡來決定獎勵。由於 <script type="math/tex">4</script> 顆氣泡是最低能消除的數量，這邊就定成 <script type="math/tex">4</script> 連結沒有獎勵。</p>

<p>另外，觀察一下可以發現到，連結數從 <script type="math/tex">4</script> 到 <script type="math/tex">5</script> 時獎勵 <script type="math/tex">+2</script> ，從 <script type="math/tex">10</script> 到 <script type="math/tex">11</script> 時獎勵 <script type="math/tex">+3</script> ，因此 <strong><script type="math/tex">5</script> 連結與 <script type="math/tex">11</script> 連結是很有效率的</strong>；另一方面，<strong><script type="math/tex">12</script> 以上的連結則效率低落</strong>，因為他們跟 <script type="math/tex">11</script> 連結有一樣的獎勵。</p>

<p>還有一個要注意的點是，如果第 <script type="math/tex">k</script> 連鎖消掉的氣泡分成好幾個彼此內部相連的群組，那<strong>每個連結群都會計算一次連結獎勵</strong>！舉例來說，請看<a href="#bonus-example">圖 1</a>：</p>

<figure id="bonus-example">

  <p><img src="https://i.imgur.com/fzHcsaz.png" alt="連結獎勵解釋" /></p>

  <figcaption>
    <p><em>圖 1</em>：多色多連結獎勵例子</p>
  </figcaption>
</figure>

<p>圖 1 中消除的氣泡有綠色五連結、綠色六連結、黃色五連結、藍色四連結，所以總共的連結獎勵是 <script type="math/tex">3+2+3+0=8</script>！</p>

<h3 id="5-s_k-計算方式">5. <script type="math/tex">S_k</script> 計算方式</h3>

<p>現在，我們可以用上面這些數字來表示第 <script type="math/tex">k</script> 連鎖得分的公式了。令第 <script type="math/tex">k</script> 連鎖消除的總氣泡數為 <script type="math/tex">t</script>，消除了 <script type="math/tex">c</script> 個顏色。另外，假設第 <script type="math/tex">k</script> 連鎖消除的所有氣泡分成 <script type="math/tex">g</script> 個連結群，而每一群有 <script type="math/tex">l_i</script> 個氣泡，<script type="math/tex">i = 1, \cdots, g</script>（因此 <script type="math/tex">\sum_{i=1}^{g}l_i=t</script>）。</p>

<p>則第 <script type="math/tex">k</script> 連鎖的得分 <script type="math/tex">S_k</script> 為</p>

<script type="math/tex; mode=display">% <![CDATA[
S_k = \begin{cases}
    40                                                    &, \text{若 } (k,t)   =  (1,4) \\ 
    10t \left( R(k) + C(c) +\sum_{i=1}^{g} L(l_i) \right) &, \text{若 } (k,t) \neq (1,4)
\end{cases} %]]></script>

<p>也就是說，如果 <script type="math/tex">k=1</script>，而且只消除四顆氣泡，那以上三種獎勵函數的值都是 <script type="math/tex">0</script>，此情況就直接定義得分為 <script type="math/tex">10t=40</script> 分；而其他情況就照著上面的表帶值，算完總和後一樣在外面乘以 <script type="math/tex">10t</script>。</p>

<h2 id="分數計算實例">分數計算：實例</h2>

<p>至此我們說明了 <script type="math/tex">S_k</script> 的計算方法，但是別忘記，發動一個 <script type="math/tex">n</script> 連鎖時需要計算每個 <script type="math/tex">S_k</script> 再加總起來的。我們就來使用上面的公式算些具體例子吧！回憶一下在<a href="/wiki/C_tactics/b_middle/i_intro">中盤概論</a>提到的概念，</p>

<blockquote>
  <p>「<em>在消掉的氣泡數一樣的前提下，追求高同消與追求高連鎖的分數可能差不多，甚至更多。</em>」──魔法氣泡中文百科</p>
</blockquote>

<p>話說得很含糊，甚麼叫差不多，更多又是怎麼個多法？有了得分計算公式，我們可以精確地說明了。以5A5B的情況為例，不考慮落下得分，則兩連鎖與一連鎖同消的得分如下：</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th style="text-align: center">圖1</th>
      <th style="text-align: center">圖2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: center"><img src="https://i.imgur.com/IAGhqMu.png" alt="兩連鎖600分" /></td>
      <td style="text-align: center"><img src="https://i.imgur.com/MKf9XNQ.png" alt="一連鎖700分" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>第1連鎖</td>
      <td><script type="math/tex">10 \times 5 \times 2 = 100</script></td>
      <td><script type="math/tex">10 \times 10 \times (3+2+2)=700</script></td>
    </tr>
    <tr>
      <td>第2連鎖</td>
      <td><script type="math/tex">10 \times 5 \times (8+2)=500</script></td>
      <td> </td>
    </tr>
    <tr>
      <td>總分</td>
      <td><script type="math/tex">600</script></td>
      <td><script type="math/tex">700</script></td>
    </tr>
  </tbody>
</table>

<p>確實是一連鎖同消的得分更高！再比較一下三連鎖與二連雙消，</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th style="text-align: center">圖3</th>
      <th style="text-align: center">圖4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: center"><img src="https://i.imgur.com/dR6oLJZ.png" alt="三連鎖1000分" /></td>
      <td style="text-align: center"><img src="https://i.imgur.com/uMYZegu.png" alt="一連鎖700分" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>第1連鎖</td>
      <td><script type="math/tex">40</script></td>
      <td><script type="math/tex">40</script></td>
    </tr>
    <tr>
      <td>第2連鎖</td>
      <td><script type="math/tex">10 \times 4 \times 8 = 320</script></td>
      <td><script type="math/tex">10 \times 8 \times (8+3+0+0)=880</script></td>
    </tr>
    <tr>
      <td>第3連鎖</td>
      <td><script type="math/tex">10 \times 4 \times 16 = 640</script></td>
      <td> </td>
    </tr>
    <tr>
      <td>總分</td>
      <td><script type="math/tex">1000</script></td>
      <td><script type="math/tex">920</script></td>
    </tr>
  </tbody>
</table>

<p>在此情況，二連雙消只少了 <script type="math/tex">1</script>～<script type="math/tex">2</script> 顆氣泡，但能給對手更短的反應時間。</p>

<p>最後再舉一個例子。注意到，圖1與圖2告訴我們一個全消戰的較佳策略：如果開場前五手剛好來了5A5B，用圖2的方式不但更快取得全消，而且分數也高，對全消戰很有利。</p>

<p>那麼，如果開場前四手是4A4B呢？此時應該擺成兩連鎖還是一連鎖同消，哪個比較有利？</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">兩連鎖</th>
      <th style="text-align: center">一連鎖同消</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://i.imgur.com/F9G3rcC.png" alt="兩連鎖360分" /></td>
      <td style="text-align: center"><img src="https://i.imgur.com/muuD101.png" alt="一連鎖240分" /></td>
    </tr>
  </tbody>
</table>

<p>讀者可以自行計算作為練習，結果是：左圖 <script type="math/tex">360</script> 分、右圖 <script type="math/tex">240</script> 分。在4A4B的情況下，兩連鎖雖然會較慢取得全消，但此時攻擊力較高，通常都還是做兩連鎖，而非一連鎖同消。</p>

<h2 id="非預設規則的障礙氣泡">非預設規則的障礙氣泡</h2>

<!-- | $$k$$ 的值 | 連鎖獎勵 $$R(k)$$ |
|:----------:|:-----------------:|
| $$1$$      | $$0$$             |
| $$2$$      | $$8$$             |
| $$3$$      | $$16$$            |
| $$4$$      | $$32$$            |
| $$5$$      | $$64$$            |
| $$6$$      | $$96$$            |
| $$7$$      | $$128$$           |
| $$8$$      | $$160$$           |
| $$9$$      | $$192$$           |
| $$10$$     | $$224$$           |
| $$11$$     | $$256$$           |
| $$12$$     | $$288$$           |
| $$13$$     | $$320$$           |
| $$14$$     | $$352$$           |
| $$15$$     | $$384$$           |
| $$16$$     | $$416$$           |
| $$17$$     | $$448$$           |
| $$18$$     | $$480$$           |
| $$19$$     | $$512$$           |
| $$20$$     | $$544$$           |
| $$21$$     | $$576$$           |
| $$22$$     | $$608$$           |
| $$23$$     | $$640$$           |
| $$24$$     | $$672$$           |
| $$\ge24$$  | $$672$$           | -->

<p>建置中，參考資料<a href="https://puyonexus.com/wiki/List_of_attack_powers">List of attack powers</a>、<a href="https://www.youtube.com/watch?v=hH0j24Rfwcg">2個消し39連鎖</a></p>

<!-- related:
B.h.iv.多連結的得分
C.a.ii.全消、全消戰
C.b.i.概論
C.c.iii.高連鎖數vs高同消數
D.a.iii.加倍時間 -->

<h2 id="加倍時間下的障礙氣泡">加倍時間下的障礙氣泡</h2>

<p>建置中，參考資料<a href="http://www.inosendo.com/puyo/margintime.html">ぷよぷよフィーバーにおけるマージンタイム到達後のおじゃまぷよレートの変動調査</a></p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p><a href="http://sengiken.web.fc2.com/html/tactics/column8.html">ぷよぷよにおける得点計算について</a>. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

</div>

  </div>
</article>
<script src="https://simulator.puyo.tw/js/embed.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML&locale=zh-hant' async></script>
<script>
  (function() { 
    var pjax = new Pjax({
      selectors: ["title", ".js-Pjax"],
      switches: {
        ".js-Pjax": Pjax.switches.outerHTML
      }
    });
    function ReloadMath() {
      MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }

    function TransformToSimulator() {
        PuyoSimulatorEmbed.simulatorify(document.getElementsByClassName('puyo-simulator'))
    }

    TransformToSimulator();

    document.addEventListener("pjax:success", ReloadMath);
    document.addEventListener("pjax:success", TransformToSimulator);
  })();
</script>

    </main><footer class="footer">
  <div class="content has-text-centered">
    <p>本百科整合散落網路上的魔法氣泡玩法、連鎖概念、戰術等資料並中文化，務求能藉此推廣魔法氣泡到更多中文玩家，壯大魔法氣泡中文圈子。</p>
  </div>
</footer>
</body>

</html>
